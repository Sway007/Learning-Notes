# Makefile Notes

## Variable Reference

- variable reference

    `${var}` or `$(var)`

--------------
--------------
GNU `make` manual notes

# Overview

- can use make with any programming language whose compiler can be run with a shell command.

## Intro to Makefile

```Makefile
target ... : prerequisites ...
    recipe
    ...
    ...
```
- A target is usually the name of a file that is generated by a program; examples of targets are executable or object files. A target can also be the name of an action to carry out, such as ‘clean’
- A prerequisite is a file that is used as input to create the target
- A recipe is an action that make carries out
    - need to put a tab character at the beginning of every recipe line!
    - Usually a recipe is in a rule with prerequisites and serves to create a target file if any of the prerequisites change.
- Targets that do not refer to files but are just actions are called `phony targets`

### `make` workflow

- By default, make starts with the first target (not targets whose names start with ‘.’). This is called the default goal.
- If some other rule is not depended on by the goal, that rule is not processed, unless you tell make to do so (with a command such as `make clean`).

### variables

```makefile
var = value
$(var)  # substitute
```

# Chapter 3. Writing Makefile